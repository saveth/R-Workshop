---
title: "Data Wrangling Part 2:"
subtitle: "Undertanding Your Data"
author: "Savet Hong"
date: "`r format(Sys.Date(), '%b %d, %Y')`"
output:
  slidy_presentation:
  incremental: true
---
  
```{r examples, include=FALSE}
library(readxl)
filing <- read_excel("../data/MockData.xlsx", sheet = "CourtA-Filing", skip = 1)
births <- read_excel("../data/drinks_USbirths.xlsx", sheet = "USBirths", skip = 2)
```

# Validation

## Scenario: Court Filing Data

```{r filing, echo=TRUE, eval=FALSE}
library(readxl)
filing <- read_excel("../data/MockData.xlsx", sheet = "CourtA-Filing", skip = 1)
```

- What should you be checking when validating a dataset?
    + structure of dataset
    + number of columns/rows
    + calculations built into the document
    + inspect distribution in the data (outliers?)

## 
- Clean up the data
  + Remove the hidden column(s)
  + Calculate the Fiscal Year total. How does it compare to the total in the Excel file?


    ```{r filing, echo=TRUE, eval=FALSE}
filing_clean <- filing %>%
      select() %>%
      mutate()
```


## Scenario: Bail

```{r filing, echo=TRUE, eval=FALSE}

filing <- read_excel("../data/MockData.xlsx", sheet = "Bail")
```

## Scenario: Peremptory

- Examine the Peremptory Data in Excel Workbook
    + What do you observe?
    + Try importing it into R, what happened?
    
    
## Scenario: Peremptory continues

- Examine the modified peremptory data
    + What do you observe?
    + Try importing it into R, what happened?
    
    ```{r filing, echo=TRUE, eval=FALSE}

filing <- read_excel("../data/MockData.xlsx", sheet = "Bail")
```

- The accounting office tracks has a system that tracks your unit expenses, and your unit admin also tracks the expenses for your unit. Reconcile the the expenditure.

- What do you examine in the data?
  - 
  + same number of records in both data files
+ sum is equivalent
+ same values in both data files
+ if discrepencies exist, validate using third data source


## Practice 1
- Read in the OBJ.RDS data file
+ Extract the first object in the list and save it to an object
+ Extract the second object in the list and save it to a different object

- Perform your data validation
- Assume you validate using a third data source, make the necessary correction.

## Scenario 2
- You have been asked append a manually dataset to the master dataset for a court. The manual data was provided to you in an excel file. What checks do you perform?
  
  - Checks
+ number of rows and column correspond to the excel file 
+ if hidden rows/columns exit determine
+ Identify if any columns/rows will be impacted by hidden fields

## Practice 2

- Read in the excel file "filings.xlsx"
- Perform your data checks
- Clean the manual data


## Concepts Covered
1. Validation (vectors and  Data import)
2. Checking for NULL or NA
3. Replacing Data Element (Indexing)
4. Introducing Dplyr


## Exercises

- Read in the OBJ.RDS data file
+ Extract the first object in the list and save it to an object
+ Extract the second object in the list and save it to a different object
+ What are now the different types of data objects that exist in your Evironment?
  
  - Imagine the first object came from one data source and the second data object came from a second data source, how would you go about validating the data?
  + Did the two data source collect the same information?
  + Are there any discrepancies?
  
  - If the first data source is considered the most valid data, modify and update the second data source if any discrepancies exist.


